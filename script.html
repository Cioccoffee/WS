<!DOCTYPE html>
<meta charset="utf8"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<--Ceci est une page HTML simple destinée à tester les resultats de requêtes SPARQL vers DBPedia-->

<html>

<head>
<title>Title of the document</title>
</head>

<body>
<div id="zoneImage">
</div>
</body>
<script>
function getImageURI(){
  //Recuperer l'uri d'une peinture associée à un artiste peintre (encore hardcodé)
    var url = "http://dbpedia.org/sparql";
    var query=["select distinct ?p ?depict where {",
    "?p dct:subject ?sub ;dbo:author dbr:Claude_Monet ;foaf:depiction ?depict",
    "FILTER(CONTAINS(str(?sub),\"Painting\"))}"].join(" ");
    var queryUrl = url+"?query="+encodeURIComponent(query)+"&format=json";
    $.ajax({
    	url:queryUrl,
    	success:function(truc){
    		var uriImage=truc.results.bindings[0].depict
    		console.log(uriImage);
    		var zone = $("#zoneImage")[0];
    		zone.innerHTML+="<img alt=\"Un joli tableau\" src=\""+uriImage.value+"\"/>";
    		console.log(zone.innerHTML);
		}
    });
}
getImageURI();
</script>
</html> 
